using System.Collections.Concurrent;
using System.Reflection;

public class MainClass
{
    static void Main(string[] args)
    {
        //string currentDirectoryPath = @"E:\Projects\Soft.Generator\Source\Soft.Generator.Security\bin\Debug\net8.0\Soft.Generator.Security.dll";
        //Assembly assembly1 = Assembly.LoadFrom(currentDirectoryPath);
        //int lastIndex = currentDirectoryPath.LastIndexOf(@"\");
        //string folderOfDlls = lastIndex >= 0 ? currentDirectoryPath.Substring(0, lastIndex) : currentDirectoryPath; // E:\Projects\Soft.Generator\Source\Soft.Generator.Security\bin\Debug\net8.0 

        //string[] referencedPaths = Directory.GetFiles(folderOfDlls, "*.dll");

        //foreach (string assemblyPath in referencedPaths)
        //{
        //    Assembly.LoadFrom(assemblyPath);
        //}
        //Assembly[] allAssemblies = AppDomain.CurrentDomain.GetAssemblies();

        //Console.WriteLine(assembly1);
        //assembly1.GetType();
        //Type[] types = assembly1.GetTypes();
        //foreach (Type type in types)
        //{
            //Console.WriteLine(type.FullName);
        //}

        //foreach (Assembly assembly in allAssemblies)
        //{
        //    Console.WriteLine(assembly.FullName);
        //    Type[] types = assembly.GetTypes();
        //}


    }
}
